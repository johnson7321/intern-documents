<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>學生資料表格</title>
  <!-- Bootstrap CDN 引入 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Google Fonts Noto Sans TC -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
  <style>
  .table-rounded {
    border-radius: 10px;
    overflow: hidden;
  }
  .custom-header, .custom-header th {
    background-color: #04a5cdff !important;
    color: white !important;
    font-weight: bold;
    font-family: 'Noto Sans TC', 'Microsoft JhengHei', '微軟正黑體', Arial, sans-serif;
    font-size: 1.2rem;
  }
  body {
    font-family: 'Noto Sans TC', 'Microsoft JhengHei', '微軟正黑體', Arial, sans-serif;
  }
  </style>
</head>
<body  style="background-color: #92badfff;">
  <div class="container mt-5">
    <h2 class="mb-4 text-center" style="font-size: 38px; font-weight: 600;">
    學生資料清單
    </h2>
    <table class="table  table-rounded table-hover text-center">
      <thead class="custom-header">
        <tr>
                <th style="width:20%">ID</th>
                <th style="width:40%">姓名</th>
                <th style="width:40%">年齡</th>
        </tr>
      </thead>
      <tbody id="student-table-body">
        <!-- JavaScript 動態插入 -->
      </tbody>
    </table>
  </div>

  <script>
    fetch('/api/students/')
      .then(response => response.json())
      .then(data => {
        const tbody = document.getElementById('student-table-body');
        data.forEach(student => {
          const row = `
            <tr>
              <td>${student.student_id}</td>
              <td>${student.name}</td>
              <td>${student.age}</td>
            </tr>
          `;
          tbody.innerHTML += row;
        });
      })
      .catch(error => {
        document.getElementById('student-table-body').innerHTML =
          '<tr><td colspan="4" class="text-danger">⚠️ 載入失敗</td></tr>';
        console.error('API 載入失敗:', error);
      });
  </script>
</body>
</html>
